<div
  class="component-box"
  [ngClass]="{ active: isActive }"
  [style.border]="isActive ? '1px solid ' + color : null"
  [style.background-color]="isActive ? 'var(--vscode-activityErrorBadge-foreground)' : null"
>
  <div class="expander"
  [style.background-color]="isActive ? 'var(--vscode-activityBar-background)' : 'transparent'"
  >
    <div style="display: flex;">
      <mat-icon (click)="toggleSweepChannel(chanName)" class="h3">
        {{ expandedSweepChannels[chanName] ? 'expand_more' : 'chevron_right' }}
      </mat-icon>
      <h3 tabindex="0" (click)="toggleSweepChannel(chanName)" (keydown)="handleKeydown($event)">
        {{ chanName }}
      </h3>
    </div>
    <button class="delete-button-icon"
      (click)="removeSweep()"
    >
    <mat-icon>delete</mat-icon>
    </button>
  </div>
  <div *ngIf="expandedSweepChannels[chanName]" class="input-group">
    <div>
      <app-dropdown
        [(ngModel)]="deviceID"
        [label]="'ID'"
        [selected]="deviceID"
        [options]="dropdownDeviceList"
        *ngIf="deviceID"
        name="deviceID"
        (selectedChange)="onDeviceIDChange($event)"
      ></app-dropdown>
    </div>
    <div class="start-stop-container">
      <app-input-plain
        [(ngModel)]="start.value"
        [label]="'Start'"
        [unit]="start.unit"
        *ngIf="start"
        name="start"
        (inputChange)="onEnter()"
      ></app-input-plain>
      <app-input-plain
        [(ngModel)]="stop.value"
        [label]="'Stop'"
        [unit]="stop.unit"
        *ngIf="stop"
        name="stop"
        (inputChange)="onEnter()"
      ></app-input-plain>
    </div>
    <div>
      <app-input-toggle
        [(ngModel)]="sourceFunction.value"
        [label]="'Source Function'"
        [options]="sourceFunction.range"
        *ngIf="sourceFunction"
        name="sourceFunction"
        (toggleOptionChange)="onToggle($event)"
      ></app-input-toggle>
    </div>
    <div>
      <app-dropdown
        [(ngModel)]="sourceRange.value"
        [label]="'Source Range'"
        [selected]="sourceRange.value"
        [options]="sourceRange.range"
        *ngIf="sourceRange"
        name="sourceRange"
        (selectedChange)="submitSweepData()"
      ></app-dropdown>
    </div>
    <div>
      <app-dropdown
        [(ngModel)]="measFunction.value"
        [label]="'Meas. Function'"
        [selected]="measFunction.value"
        [options]="measFunction.range"
        *ngIf="measFunction"
        name="measFunction"
        (selectedChange)="submitSweepData()"
      ></app-dropdown>
    </div>
    <div>
      <app-dropdown
        [(ngModel)]="measRange.value"
        [label]="'Meas. Range'"
        [selected]="measRange.value"
        [options]="measRange.range"
        *ngIf="measRange"
        name="measRange"
        (selectedChange)="submitSweepData()"
      ></app-dropdown>
    </div>
    <div>
      <app-input-toggle
        [(ngModel)]="style.value"
        [label]="'Style'"
        [options]="style.range"
        *ngIf="style"
        name="style"
        (toggleOptionChange)="onToggle($event)"
      ></app-input-toggle>
    </div>
    <div>
      <app-dropdown
        [(ngModel)]="senseMode.value"
        [label]="'Sense Mode'"
        [selected]="senseMode.value"
        [options]="senseMode.range"
        *ngIf="senseMode"
        name="senseMode"
        (selectedChange)="submitSweepData()"
      ></app-dropdown>
    </div>
  </div>
</div>
